# Leetcode: 705. Design HashSet.


Ruby code:
```Ruby
# Leetcode: 705. Design HashSet.
# https://leetcode.com/problems/design-hashset/
# = = = = = = = = = = = = = =
# Accepted.
# Thanks God, Jesus Christ!
# = = = = = = = = = = = = = =
# Runtime: 159 ms, faster than 92.31% of Ruby online submissions for Design
# HashSet.
# Memory Usage: 214.3 MB, less than 30.77% of Ruby online submissions for Design
# HashSet.
# 2023.05.30 Daily Challenge.
class MyHashSet
  # Hint from:
  # https://leetcode.com/problems/design-hashset/discuss/769047/Java-Solution-using-Bit-Manipulation
    def initialize()
      n = 10**6
      @a = Array.new((n+128)/64,0)
      @ones = (2**65)-1 # ! here.
      @tmp = {}
    end


=begin
    :type key: Integer
    :rtype: Void
=end
    def add(key)
      @tmp[key] = true
      i = get_i(key)
      j = get_b(key)
      x = @a[i]
      num = 1 << j
      return if 1 == (x & num)
      @a[i] = x | num
    end


=begin
    :type key: Integer
    :rtype: Void
=end
    def remove(key)
      i = get_i(key)
      j = get_b(key)
      x = @a[i]
      num = 1 << j
      return if 0 == (x & num)
      inverse = @ones ^ num
      @a[i] = x & inverse
    end


=begin
    :type key: Integer
    :rtype: Boolean
=end
    def contains(key)
      i = get_i(key)
      j = get_b(key)
      x = @a[i]
      num = 1 << j
      ans = 0 != (x & num)
      test = @tmp[key]
      return ans
    end
    # Get index.
    def get_i(key)
      key/64
    end
    # Get byte number.
    # Or power of two in 64 bit int.
    def get_b(key)
      key%64
    end


end

# Your MyHashSet object will be instantiated and called as such:
# obj = MyHashSet.new()
# obj.add(key)
# obj.remove(key)
# param_3 = obj.contains(key)
```

Tests:
```
["MyHashSet","add","add","contains","contains","add","contains","remove","contains"]
[[],[1],[2],[1],[3],[2],[2],[2],[2]]
["MyHashSet","contains","remove","add","add","contains","remove","contains","contains","add","add","add","add","remove","add","add","add","add","add","add","add","add","add","add","contains","add","contains","add","add","contains","add","add","remove","add","add","add","add","add","contains","add","add","add","remove","contains","add","contains","add","add","add","add","add","contains","remove","remove","add","remove","contains","add","remove","add","add","add","add","contains","contains","add","remove","remove","remove","remove","add","add","contains","add","add","remove","add","add","add","add","add","add","add","add","remove","add","remove","remove","add","remove","add","remove","add","add","add","remove","remove","remove","add","contains","add"]
[[],[72],[91],[48],[41],[96],[87],[48],[49],[84],[82],[24],[7],[56],[87],[81],[55],[19],[40],[68],[23],[80],[53],[76],[93],[95],[95],[67],[31],[80],[62],[73],[97],[33],[28],[62],[81],[57],[40],[11],[89],[28],[97],[86],[20],[5],[77],[52],[57],[88],[20],[48],[42],[86],[49],[62],[53],[43],[98],[32],[15],[42],[50],[19],[32],[67],[84],[60],[8],[85],[43],[59],[65],[40],[81],[55],[56],[54],[59],[78],[53],[0],[24],[7],[53],[33],[69],[86],[7],[1],[16],[58],[61],[34],[53],[84],[21],[58],[25],[45],[3]]
```
