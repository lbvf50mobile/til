
Ruby code:
```Ruby
```

Tests:
```
2
[[1,0]]
2
[[1,0],[0,1]]
7
[[1,0],[0,3],[0,2],[3,2],[2,5],[4,5],[5,6],[2,4]]
4
[[2,3],[3,2]]
```
