# Leetcode: 979. Distribute Coins in Binary Tree.


- https://gist.github.com/lbvf50mobile/0dc9473e240f95600f0c9742901fac18


Ruby code:
```Ruby
# Leetcode: 979. Distribute Coins in Binary Tree.
# https://leetcode.com/problems/distribute-coins-in-binary-tree/
# Definition for a binary tree node.
# class TreeNode
#     attr_accessor :val, :left, :right
#     def initialize(val = 0, left = nil, right = nil)
#         @val = val
#         @left = left
#         @right = right
#     end
# end
# @param {TreeNode} root
# @return {Integer}
def distribute_coins(root)
    # My Idea is similar with BubleSort.
    # Do small steps and calculate number of steps.
    # If there are 0 step stop.
    # Incorrect Idea.
    # Need always fill zeros. If top zero it get data from a or from b and that's it.
    # If top not zero it put to a or to b. Like vacuum.
    total = 0
    while true
        p "Start."
        add = dfs(root)
        total += add
        break if 0 == add
    end
    total
end

def dfs(x)
    return 0 if x.nil?
    steps = 0
    l,r = x.left, x.right
    if l
        p "Left"
        if x.val > 1 && l.val == 0
            p 1
            l.val += 1
            x.val -= 1
            steps += 1
        elsif l.val > 1 && x.val == 0
            p 2
            l.val -=1
            x.val += 1
            steps += 1
        elsif x.val > 1 && l.val > 1 && x.val > l.val
            p 3
            x.val -= 1
            l.val += 1
            steps += 1
        elsif x.val > 1 && l.val > 1 && x.val < l.val
            p 4
            x.val += 1
            l.val -= 1
            steps += 1
        end
        steps += dfs(l)
    end
    if r
        p "Right"
        if x.val > 1 && r.val == 0
            p 6
            r.val += 1
            x.val -= 1
            steps += 1
        elsif r.val > 1 && x.val == 0
            p 7
            r.val -=1
            x.val += 1
            steps += 1
        elsif x.val > 1 && r.val > 1 && x.val > r.val
            p 8
            x.val -= 1
            r.val += 1
            steps += 1
        elsif x.val > 1 && r.val > 1 && x.val < r.val
            p 9
            x.val += 1
            r.val -= 1
            steps += 1
        end
        steps += dfs(r)
    end
    steps
end
```



