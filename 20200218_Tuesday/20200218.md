# Leetcode: Continuing task 480.

- https://leetcode.com/problems/sliding-window-median/
- https://gist.github.com/lbvf50mobile/bbacbc666363d6d2c1f2660aad0dea6c
- https://leetcode.com/problems/sliding-window-median/discuss/475140/Python-SortedList-solution

![Leetcode 480. Sliding Window Median. Solution based on static size sliding window.](lc480_window_array.png)

```Ruby
# 480. Sliding Window Median
# https://leetcode.com/problems/sliding-window-median/
# Runtime: 1324 ms, faster than 50.00% of Ruby online submissions for Sliding Window Median.
# Memory Usage: 10.7 MB, less than 100.00% of Ruby online submissions for Sliding Window Median.
# @param {Integer[]} nums
# @param {Integer} k
# @return {Float[]}
def median_sliding_window(nums, k)
    return [] if nums.empty?
    median = k/2
    median_right = k/2
    median_left = k/2-1
    odd = k.odd?
    answer = []
    
    window = nums[0...k].sort
    
    if odd
        answer.push(window[median].to_f)
    else
        answer.push((window[median_right]+window[median_left])/2.0)
    end
    
    (k...nums.size).each do |i|
        window.delete_at(window.find_index(nums[i-k]))
        window.unshift(nums[i])
        window.sort!
        if odd
            answer.push(window[median].to_f)
        else
            answer.push((window[median_right]+window[median_left])/2.0)
        end
    end
    
    answer
end
```