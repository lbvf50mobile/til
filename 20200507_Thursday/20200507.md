# Leetcode: 724. Find Pivot Index.

- https://leetcode.com/problems/find-pivot-index/
- https://gist.github.com/lbvf50mobile/b29848704f7a96d1ba6bc33d0de3dbfb
- https://leetcode.com/problems/find-pivot-index/discuss/618875/Ruby-straightforward.

- Create prefix sum array moving from left to right.
- Create prefix sum array moving form right to left.
- Iterate each index in array compare do prev element in left array equal to next element in right array. If true return this index.

```Ruby
=begin
Leetcode: 724. Find Pivot Index.
https://leetcode.com/problems/find-pivot-index/
Runtime: 68 ms, faster than 29.85% of Ruby online submissions for Find Pivot Index.
Memory Usage: 13.9 MB, less than 100.00% of Ruby online submissions for Find Pivot Index.
=end
# @param {Integer[]} nums
# @return {Integer}
def pivot_index(nums)
    @x = nums
    @l = Array.new(nums.size)
    @r = Array.new(nums.size)
    return -1 if @x.empty?
    left_prefix_sum
    right_prefix_sum
    (0...@x.size).each do |i|
        return i if get_left(i-1) == get_right(i+1)
    end
    -1
end

def left_prefix_sum
    (0...@x.size).each do |i|
        if 0 == i
            @l[i] = @x[i]
        else
            @l[i] = @x[i] + @l[i-1]
        end
    end
end

def right_prefix_sum
    (0...@x.size).reverse_each do |i|
        if @x.size - 1 == i
            @r[i] = @x[i]
        else
            @r[i] = @x[i] + @r[i+1]
        end
    end
end

def get_left(i)
    return 0 if -1 == i
    return @l[i]
end
def get_right(i)
    return 0 if @x.size  == i
    return @r[i]
end
```