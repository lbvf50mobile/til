# Leetcode: 532.

```Ruby
# 532. K-diff Pairs in an Array
# https://leetcode.com/problems/k-diff-pairs-in-an-array/
# @param {Integer[]} nums
# @param {Integer} k
# @return {Integer}
def find_pairs(nums, k)
    nums.sort!
    hash = {}
    count = 0
    nums.each_with_index do |x,i|
        key = x+k
        count += 1 if hash[x]
        hash[key] = i
    end
    count
end
```