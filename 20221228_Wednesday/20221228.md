# Leetcode: 1962. Remove Stones to Minimize the Total.

- https://gist.github.com/lbvf50mobile/2fb77576ca08224e7e6cf3b23511c785
- https://leetcode.com/problems/remove-stones-to-minimize-the-total/discuss/2964605/RubyGo%3A-K-times-pop-and-push-in-Binary-Heap.

**Ruby/Go: K times pop and push in Binary Heap.**

Time: O(KLog(N)); Memory: O(N);

- https://en.wikipedia.org/wiki/Binary_heap

1. Get total sum of piles.
2. Generate heap of piles.
3. `k` times loop.
4. Get biggets pile, take half, push rest into the heap.
5. Return difference between total and taken.

Ruby code:
```Ruby
# Leetcode: 1962. Remove Stones to Minimize the Total.
# https://leetcode.com/problems/remove-stones-to-minimize-the-total/
# = = = = = = = = = = = = = =
# Correct.
# Thanks God, Jesus Christ!
# = = = = = = = = = = = = = =
# At the Leetcode libraries works too long.
# But the algorithm is correct.
# @param {Integer[]} piles
# @param {Integer} k
# @return {Integer}
def min_stone_sum(piles, k)
  # https://www.rubydoc.info/github/kanwei/algorithms/Containers/MaxHeap
  maxheap = MaxHeap.new(piles)
  total = piles.sum
  total_take = 0
  k.times do
    tmp = maxheap.pop
    take = tmp/2
    tmp -= take
    total_take += take
    maxheap.push(tmp)
  end
  return total - total_take
end
```
