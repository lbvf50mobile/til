# Leetcode: 464. Can I Win. Some tests.

```Ruby
# Leetcode: 464. Can I Win.
# https://leetcode.com/problems/can-i-win/
# @param {Integer} max_choosable_integer
# @param {Integer} desired_total
# @return {Boolean}
# FAILS: (10, 40)
def can_i_win(max_choosable_integer, desired_total)
    return true if 0 == desired_total
    @desired_total = desired_total
    @max_choosable_integer = max_choosable_integer
    @dp = Array.new(desired_total+1).map{ Hash.new }
    @full_mask = 2**20 - 1
    rec(0, @full_mask)
    
end

def rec(pos, mask)
    return false if @desired_total <= pos
    return @dp[pos][mask] if @dp[pos][mask]
    bit = 1
    (0...@max_choosable_integer).each do |i| 
        if mask & bit
            if ! rec(pos+i+1,mask&(@full_mask^bit))
                @dp[pos][mask] = true
                return true
            end
        end
        bit <<= 1
    end
    @dp[pos][mask] = false
end
# Leetcode: 464. Can I Win.
# https://leetcode.com/problems/can-i-win/
# @param {Integer} max_choosable_integer
# @param {Integer} desired_total
# @return {Boolean}
# TLE 18, 79.
def can_i_win(max_choosable_integer, desired_total)
    return true if 0 == desired_total
    @desired_total = desired_total
    @dp = Array.new(desired_total+1).map{ Hash.new }
    rec(0, Array.new(max_choosable_integer,true))
    
end

def rec(pos, arr)
    return false if @desired_total <= pos
    return @dp[pos][arr] if @dp[pos][arr]
    answers = [] # results of apponent moves.
    (0...arr.size).each do |i|
        if arr[i]
            new_arr = arr.clone
            new_arr[i] = false
            answers.push(rec(pos+i+1,new_arr))
        end
    end
    ans = false
    ans = true if answers.any?{|x| x == false}
    @dp[pos][arr] = ans
end
```


```Ruby
def mutateTheArray(n, a)
    prv = 0
    (0...a.size).each do |i|
        tmp = a[i]
        nxt = i < (a.size-1) ? a[i+1] : 0
        a[i] += prv + nxt
        prv = tmp
    end
    a
end
```
23:03

```Ruby
def alternatingSort(a)
  b = []
  n = a.size
  (0...n).each do |i|
    if i.even?
        b.push(a.shift())
    else
        b.push(a.pop())
    end
  end
  (1...n).each do |i|
    return false if b[i-1] >= b[i]
  end
  true
end
```
23:21
```Ruby
def meanGroups(a)
  a.map.with_index{|el,i| [el.sum/(el.size.to_f),i]}
  .group_by(&:first).values.map{|x| x.map(&:last).sort}
  .sort_by(&:first)
end
```
23:24


```Ruby
def concatenationsSum(a)
    sm = a.sum
    lgsum = a.sum{|x| 10**Math.log10(x*10).to_i }
    a.sum{|x| x*lgsum + sm}
end

```
23:27


